<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <title>Agam's Day</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Quicksand', sans-serif;
      background: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      overflow-y: auto;
      text-align: center;
      position: relative;
      transition: background 0.6s ease;
    }

    body.show-letter {
      background: url('1.png') no-repeat center center fixed;
      background-size: cover;
    }

    .envelope {
      width: 180px;
      padding-top: 220px;
      cursor: pointer;
      transition: transform 0.3s ease;
      z-index: 10;
      animation: wiggle 1.6s ease-in-out infinite;
    }

    @keyframes wiggle {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(3deg); }
      50% { transform: rotate(-3deg); }
      75% { transform: rotate(2deg); }
    }

    .letter-wrapper {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      flex-direction: column;
    }

    .letter {
      background-color: rgba(145, 0, 0, 0);
      border-radius: 18px;
      max-width: 320px;
      width: 100%;
      padding: 25px;
      line-height: 1.7;
      color: #333;
      font-size: 15.5px;
      position: relative;
      opacity: 0;
      transform: translateY(40px);
      transition: all 0.6s ease;
      pointer-events: none;
      z-index: 5;
      max-height: 70vh;
      overflow-y: auto;
      scrollbar-width: thin;
      scrollbar-color: #90caf9 #ffffff;
      text-align: justify;
    }

    .letter p {
      text-indent: 20px;
      margin-top: 10px;
      margin-bottom: 10px;
    }

    .letter h1 {
      text-align: center;
      color: #1e88e5;
      font-size: 22px;
      margin-bottom: 15px;
    }

    .read-more {
      margin-top: 15px;
      color: #1e88e5;
      cursor: pointer;
      font-weight: 600;
      text-align: center;
      display: block;
    }

    .letter::-webkit-scrollbar {
      width: 6px;
    }

    .letter::-webkit-scrollbar-thumb {
      background-color: #90caf9;
      border-radius: 3px;
    }

    .letter::-webkit-scrollbar-track {
      background: transparent;
    }

    .letter.show {
      opacity: 1;
      transform: translateY(0);
      z-index: 20;
      pointer-events: all;
    }

    .letter .more {
      display: none;
      margin-top: 10px;
    }

    .gift-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin-top: 25px;
    }

    .gift-icon {
      width: 100px;
      height: 100px;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .gift-icon:hover {
      transform: scale(1.1);
    }

    .tap-text {
      font-size: 13px;
      color: #1e88e5;
      margin-top: -12px;
      font-weight: 600;
      animation: blink 1.5s infinite ease-in-out;
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.4; }
    }

    .controls {
      position: absolute;
      top: -65px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      transition: opacity 0.5s ease;
      pointer-events: none;
      z-index: 30;
    }

    .controls.show {
      opacity: 1;
      pointer-events: all;
    }

    .play-btn {
      background: #90caf9;
      border: none;
      border-radius: 50%;
      width: 55px;
      height: 55px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s ease, background 0.3s ease;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .play-btn:hover {
      transform: scale(1.1);
      background: #64b5f6;
    }

    .play-btn img {
      width: 22px;
      height: 22px;
      filter: invert(100%);
    }

    footer {
      font-size: 12px;
      color: #90caf9;
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      font-weight: 500;
    }

    /* canvas untuk confetti */
    #confetti {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 999;
    }

    @media (max-width: 400px) {
      h1 { font-size: 20px; }
      .letter { font-size: 14.5px; padding: 20px; }
    }
  </style>
</head>
<body>

  <canvas id="confetti"></canvas>

  <div id="envelope-container">
    <img src="https://i.pinimg.com/474x/6e/f9/c9/6ef9c96a0754637947e7824ccb416885.jpg" alt="envelope" class="envelope" id="envelope">
  </div>

  <div class="letter-wrapper">
    <div class="controls" id="controls">
      <button id="playBtn" class="play-btn">
        <img id="playIcon" src="https://cdn-icons-png.flaticon.com/512/9073/9073187.png" alt="Play">
      </button>
    </div>

    <div class="letter" id="letter">
      <h1>Happy birthday, Agam!</h1>
      <p>
        Selamat bertambah usia, Abang! Selamat ulang tahun, Adek! Dan selamat hari kelahiran, Agam. Another year of surviving... and you did it. Maybe this year wasn't always that kind, it might've left a few scars or a few sleepless nights. But you still made it through. You've grown, you've learned, and you've managed to get through it all. Oh you're not just cool, you're the coolest, Abang. And i'm proud of you, no matter what.
        <br><span class="more">
          Abang, semoga banyak harap yang terwujud di usia kamu yang akhirnya sampai di 19 tahun ini. Semoga banyak bahagia datang, dan semoga kamu selalu dikelilingi oleh orang-orang yang sayang sama kamu. I hope life always treats you gently, i really do. Semoga semesta selalu berpihak padamu, Abang. Semoga gak ada hal sial yang datang, dan semoga gak ada air mata yang jatuh sia-sia tahun ini. Semoga langkah kamu selalu ringan, hati kamu selalu tenang, dan semoga datang banyak alasan untuk kamu senyum tiap harinya.
          <br><br>
          Abang, terima kasih sudah bertahan sejauh ini, terima kasih sudah pilih untuk bangun dan berjuang lagi setiap harinya, terima kasih udah jadi Agam yang selalu bikin aku bangga. Abang, terima kasih untuk selalu mengusahakan segalanya, terima kasih untuk selalu berusaha jadi kuat. Please don't be too hard on yourself, Abang. You deserve to rest, to feel proud, and to be kind to yourself too. I appreciate you a lot, so please appreciate yourself even more, oke?
          <br><br>
          Dan kalau suatu hari nanti, kalau dunia terasa terlalu bising, semoga kamu masih bisa nemuin tenang di hal-hal kecil, segelas kopi, harum tanah setelah hujan, atau mungkin seekor kucing di jalan. Semoga kamu selalu inget, kamu gak harus selalu kuat setiap waktu. Gak apa-apa kalau kamu mau berhenti sebentar, istirahat, tarik nafas, dan mulai lagi pelan-pelan. Hidup gak harus selalu cepet, yang penting kamu tetap berjalan.<br><br>
          Nineteen might sound like just a number, but it's also a promise, that you'll keep growing, keep learning, keep finding your way. Mungkin gak semua hari bakal terasa ringan, tapi semoga kamu selalu punya cahaya yang bisa kamu bawa sendiri, bahkan di hari paling gelap sekalipun. Kamu udah sejauh ini, and you keep going, Agam. That's something to be proud of.<br><br>
          Semoga semua hal yang pernah kamu doakan pelan-pelan datang menghampiri. Happy birthday, Abang. Dunia beruntung punya kamu di dalamnya.<br><br>
 â€” With love, Asha
        </span>
      </p>

      <div class="read-more">Read it slowly â¬‡ï¸Ž</div>

      <div class="gift-container" id="giftContainer" style="display:none;">
        <a href="https://padlet.com/petriichor/Birthday" target="_blank">
          <img src="https://i.gifer.com/4AzH.gif" alt="Gift Icon" class="gift-icon">
        </a>
        <div class="tap-text">Tap here</div>
      </div>
    </div>
  </div>

  <audio id="bgMusic" src="music.mp3"></audio>

  <footer>a little project by Asha ð–¹­</footer>

  <script>
    const envelopeContainer = document.getElementById("envelope-container");
    const letter = document.getElementById("letter");
    const controls = document.getElementById("controls");
    const playBtn = document.getElementById("playBtn");
    const playIcon = document.getElementById("playIcon");
    const readMoreBtn = letter.querySelector(".read-more");
    const moreText = letter.querySelector(".more");
    const giftContainer = document.getElementById("giftContainer");
    const bgMusic = document.getElementById("bgMusic");

    envelopeContainer.addEventListener("click", () => {
      envelopeContainer.style.opacity = "0";
      envelopeContainer.style.pointerEvents = "none";
      setTimeout(() => {
        envelopeContainer.style.display = "none";
        document.body.classList.add("show-letter");
        letter.classList.add("show");
        controls.classList.add("show");
        startConfetti(); // ðŸŽ‰ mulai confetti pas surat muncul
      }, 800);
    });

    playBtn.addEventListener("click", () => {
      if (bgMusic.paused) {
        bgMusic.play();
        playIcon.src = "https://cdn-icons-png.flaticon.com/512/2920/2920686.png";
      } else {
        bgMusic.pause();
        playIcon.src = "https://cdn-icons-png.flaticon.com/512/9073/9073187.png";
      }
    });

    readMoreBtn.addEventListener("click", () => {
      moreText.style.display = "block";
      readMoreBtn.style.display = "none";
      giftContainer.style.display = "flex";
    });

    // ðŸŽŠ Confetti bintang biru
    function startConfetti() {
      const canvas = document.getElementById("confetti");
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const stars = [];
      const numStars = 150;

      for (let i = 0; i < numStars; i++) {
        stars.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height - canvas.height,
          size: Math.random() * 4 + 2,
          speed: Math.random() * 2 + 1,
          angle: Math.random() * 360,
          rotationSpeed: Math.random() * 3 + 1,
          opacity: Math.random() * 0.5 + 0.5
        });
      }

      function drawStar(x, y, r, rotation) {
        ctx.beginPath();
        ctx.moveTo(x, y - r);
        for (let i = 0; i < 5; i++) {
          ctx.lineTo(
            x + r * Math.cos((18 + i * 72 + rotation) * Math.PI / 180),
            y - r * Math.sin((18 + i * 72 + rotation) * Math.PI / 180)
          );
          ctx.lineTo(
            x + (r / 2) * Math.cos((54 + i * 72 + rotation) * Math.PI / 180),
            y - (r / 2) * Math.sin((54 + i * 72 + rotation) * Math.PI / 180)
          );
        }
        ctx.closePath();
        ctx.fillStyle = `rgba(30,136,229,${Math.random()})`;
        ctx.fill();
      }

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        stars.forEach(star => {
          drawStar(star.x, star.y, star.size, star.angle);
          star.y += star.speed;
          star.angle += star.rotationSpeed;
          if (star.y > canvas.height) {
            star.y = -10;
            star.x = Math.random() * canvas.width;
          }
        });
        requestAnimationFrame(animate);
      }
      animate();

      // confetti ilang setelah 7 detik
      setTimeout(() => {
        canvas.style.display = "none";
      }, 7000);
    }
  </script>
</body>
</html>
